<template lang="">
    <div class="pagination-count">
        <span class="pagination-count-title">Tổng số bản ghi/trang: </span>
        <span class="pagination-count-number">{{ currentPage }} </span>
        <div
            class="pagination-count-dropdown"
            @click="onTogglePagination"
            :class="[{ dropup: isPaginationActive }]"
        ></div>
        <ul class="pagination-dropdown-list" v-if="isPaginationActive">
            <li
                v-for="(page, index) in pageSize"
                :key="index"
                class="pagination-dropdown-item"
                @click="onPageActive(page)"
                :class="[page == currentPage && active]"
            >
                {{ page }}
                <div class="check-icon">
                    <i class="fa-solid fa-check"></i>
                </div>
            </li>
        </ul>
        <div
            class="overlay-feature"
            v-if="isPaginationActive"
            @click="onTogglePagination()"
        ></div>
    </div>
</template>
<script>
export default {
    name: "BaseDropdownPagin",
    watch: {
        // Chuyền pageSize hiện tại lên thằng cha
        currentPage() {
            this.$emit("pageSize", this.currentPage);
        },
    },
    methods: {
        /**
         * Thực hiện xử lý ẩn hiện dropdown department
         **  Author: Nguyễn Quang Minh(26/10/2022)
         */
        onTogglePagination() {
            this.isPaginationActive = !this.isPaginationActive;
        },
        /**
         * Thực hiện active giá trị được chọn
         **  Author: Nguyễn Quang Minh(26/10/2022)
         */
        onPageActive(page) {
            this.currentPage = page;
            this.onTogglePagination();
        },
    },
    data() {
        return {
            isPaginationActive: false,
            pageSize: ["10", "25", "50", "100"],
            currentPage: 25,
            active: "active",
        };
    },
};
</script>
<style scope>
.pagination-count{
    position: relative;
    display: flex;
    align-items: center;
  }
  .pagination-count-title{
  color: #666666;
  }
  .pagination-count-number{
    color: #1F1F1F;
    margin-left: 2px;
  }
  .pagination-count-dropdown{
    background-image: url("../../../assets/icons/Sprites.64af8f61.svg");
    background-position: -1793px -470px;
    width: 24px;
    height: 24px;
    cursor: pointer;
    transition: linear 0.3s;
  }
  
  .pagination-dropdown-list{
    position: absolute;
    z-index: 99;
    bottom: 26px;
    right: 0px;
    background-color: #FFFFFF;
    width: 76px;
    box-shadow: 0px 2px 8px rgba(23,27,42,0.24);
    border-radius: 4px;
    padding: 8px 0px;
    display: block;
  }
  .pagination-dropdown-item{
    height: 36px;
    width: 100%;
    padding: 0px 14px;
    display: flex;
    align-items: center;
    cursor: pointer;
    justify-content: space-between;
  }
  .pagination-dropdown-item:hover{
    color: #007AFF;
  }
  .pagination-dropdown-item.active{
    color: #007AFF;
  }
  .check-icon {
    font-size: 16px;
    color: #007AFF;
    display: none;
  }
  .pagination-dropdown-item.active .check-icon{
  display: block;
  }
  .form-input-error{
    border: 1px solid #E60000;
  }
  input[required].form-input-error + .error-text{
    display: block;
  }
</style>
